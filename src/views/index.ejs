<%- include('./header.ejs') %>
  <main class="index-page">
    <div class="main-container">
      <p>
        <strong>
          Total number of characters in inventory:
        </strong>
        <span>
          <%= allCharactersCount %>
        </span>
      </p>
      <table>
        <caption>
          Character Count by rarity
        </caption>
        <thead>
          <tr>
            <th>
              5 Star characters
            </th>
            <th>
              4 Star characters
            </th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <%= all5starsCount %>
            </td>
            <td>
              <%= all4starsCount %>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="table-container">
      <% if (typeof allVisionsCount === "undefined" || allVisionsCount.length < 1) { %>
       <p>
        <strong>Vision count: 0</strong>
       </p>
      <% } else { %>
        <table>
          <caption>
            Character counts by vision type
          </caption>
          <thead>
            <tr>
              <th>
                Vision Type
              </th>
              <th>
                Character Count
              </th>
            </tr>
          </thead>
          <tbody>
            <% allVisionsCount.forEach(vision => { %>
              <tr>
                <th>
                  <%= vision.name %>
                </th>
                <td>
                  <%= vision.count %>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      <% } %>
      <% if (typeof allWeaponsCount === "undefined" || allWeaponsCount.length < 1) { %>
       <p>
        <strong>
          Weapon type count: 0
        </strong>
       </p>
      <% } else { %>
        <table>
          <caption>
            Character counts by weapon type
          </caption>
          <thead>
            <tr>
              <th>
                Weapon Type
              </th>
              <th>
                Character Count
              </th>
            </tr>
          </thead>
          <tbody>
            <% allWeaponsCount.forEach(weapon => { %>
              <tr>
                <th>
                  <%= weapon.name %>
                </th>
                <td>
                  <%= weapon.count %>
                </td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      <% } %>
    </div>
  </main>
<%- include('./footer.ejs') %>